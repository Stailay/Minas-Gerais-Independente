#proclamation of the republic
brazil_republic = {
	is_shown = {
	  exists = c:BRZ
	  c:BRZ = ROOT
	  NOT = { has_variable = end_of_empire }
   }
   possible = {
	  
	  has_law = law_type:law_slavery_banned
	  bureaucracy > 200
	  any_interest_group = {
	  is_in_government = yes
	  has_ideology = ideology_republican
	}
   }

   when_taken = {

	set_variable = {
		name = end_of_empire
		value = yes
		}
		trigger_event = {
			id = brazil_republic.1
			days = 0
			popup = yes
		}
	add_modifier ={
		name = br_republic_mod
		months = 61
		}
   }

}

#ACRE BUYOUT DECISION
acre = {
	  is_shown = {
		exists = c:BRZ
		c:BRZ = ROOT
		NOT = { has_variable = acre_purchase_var }
		#game_date >= 1885.1.1
		}	

	#when its possible to take the event
     possible = {
		taking_loans = no
          root.gdp > 50000000 
  		is_at_war = no
		c:BRZ = {
			country_rank >= rank_value:major_power
			}

          }
     
     when_taken = {
          set_variable = {
			name = acre_purchase_var
			value = yes
		}
          trigger_event = {
			id = acre.4
			days = 0
			popup = yes
		}
     }
     
     ai_chance = {
		base = 0	
		modifier = {
			trigger = { gold_reserves > 500000 }
			add = 10
		}		
		modifier = {
			trigger = { 
				gold_reserves > 0
				weekly_net_fixed_income > 15000
			}
			add = 10
		}
		modifier = {
			OR = {
				is_diplomatic_play_committed_participant = yes
				is_at_war = yes
			}
			add = -1000
		}
	}

}

acre.1 = {
	is_shown = {
	  exists = c:BRZ
	  c:BRZ = ROOT
	  NOT = { has_variable = col_purchase_var }
	  has_variable = acre_purchase_var
	  }	

  #when its possible to take the event
   possible = {
	
	  taking_loans = no
		root.gdp > 70000000 

	  c:BRZ = {
		  country_rank >= rank_value:major_power
		  }
		is_at_war = no
		}
   
   when_taken = {
		set_variable = {
		  name = col_purchase_var
		  value = yes
	  }
		trigger_event = {
		  id = acre.5
		  days = 0
		  popup = yes
	  }
   }
   
   ai_chance = {
	  base = 0	
	  modifier = {
		  trigger = { gold_reserves > 500000 }
		  add = 10
	  }		
	  modifier = {
		  trigger = { 
			  gold_reserves > 0
			  weekly_net_fixed_income > 15000
		  }
		  add = 10
	  }
	  modifier = {
		  OR = {
			  is_diplomatic_play_committed_participant = yes
			  is_at_war = yes
		  }
		  add = -1000
	  }
  }

}

#VISCOUNT OF MAUA EVENTS
maua = {
	is_shown = {
	  exists = c:BRZ
	  c:BRZ = ROOT
	  NOT = { has_variable = maua }

		}
  #when its possible to take the event
   possible = {
			ig:ig_industrialists = {
					is_in_government = yes
					#is_powerful = yes
					}
			has_technology_researched = railways
			bureaucracy > 100
		}
   
   when_taken = {
		set_variable = {
		  name = maua
		  value = yes
	  }
		trigger_event = {
		  id = maua.1
		  days = 0
		  popup = yes
	  }
   }
}

#CISPLATINA CLAIM EVENT - AFTER PARAGUAY WAR

reclaim_cisplatina = {
	is_shown = {
	exists = c:BRZ
	c:BRZ = ROOT
	is_at_war = no

	NOT = { has_variable = cisplatina_done }
	has_variable = cisplatina_war

		}


  #when its possible to take the event
   possible = {
			ig:ig_armed_forces = {
				is_in_government = yes
				#is_powerful = yes
			}
			has_technology_researched = pan-nationalism
			C:URU = {is_subject = no}
		}
   
   when_taken = {
		set_variable = {
		  name = cisplatina_done
		  value = yes
	  }
		trigger_event = {
		  id = cisplatina.1
		  days = 0
		  popup = yes
	  }
   }
}

#END SLAVE TRADE LAW
#THIS IS NOW TIED TO THE ALBERDEEN ACT EVENTS
# eusebio = {
# 	is_shown = {
# 	  exists = c:BRZ
# 	  c:BRZ = ROOT
# 	  has_global_variable = alberdeen_act_enacted
# 	  NOT = { has_variable = eusebio_taken }

# 		}
#   #when its possible to take the event
#    possible = {
# 		bureaucracy > 100
# 		has_global_variable = alberdeen_act_enacted
# 		has_modifier = br_last_slave_country
# 		}
#    when_taken = {
# 		set_variable = {
# 		  name = eusebio_taken
# 		  value = yes
# 	  }
# 		trigger_event = {
# 		  id = eusebio_law.1
# 		  days = 0
# 		  popup = yes
# 	  }
#    }
# }


#ALBEREEN ACT

alberdeen_act = {
	is_shown = {
	  exists = c:BRZ
	  exists = c:GBR
	  c:GBR = ROOT
	  c:BRZ = {
		is_player = yes
	  }
	  game_date >= 1840.1.1
	  c:BRZ = {
			has_law = law_type:law_slave_trade
	  	}
	  NOT = {has_global_variable = alberdeen_act_enacted}
		}
  #when its possible to take the event
   possible = {

		game_date >= 1840.2.2
				}
   
   when_taken = {
		set_global_variable = {
		  name = alberdeen_act_enacted
		  value = yes
	  }
   	}
	ai_chance = {
		base = 1000
		
	}
}


#  test2 = {
#  	is_shown = {
#  	  exists = c:BRZ
#   		}

#     possible = {
#  		bureaucracy > 10
 	
#  			}
 	
#     when_taken = {
# 		c:BRZ = {
# 		change_relations = {
# 			country = c:CLM
# 			value = 10
# 			}
# 		}
# 	}

 		
#  }

#   test_war = {
#   	is_shown = {
#   	  exists = c:BRZ
#   	  	is_player = yes
#   			}
  
#      possible = {
#   		bureaucracy > 10
		
#   			}
  	
#      when_taken = {
# 		random_scope_general = {
# 			is_general = yes
# 			kill_character = yes
# 		}
	

#   	  }

#   }
arms_industry = {
	is_shown = {
		exists = c:MNG
		c:MNG = ROOT
		exists = c:MN1
		c:MN1 = ROOT
		exists = c:MN2
		c:MN2 = ROOT
		exists = c:MN3
		c:MN3 = ROOT
		is_subject = no

	}

	possible = {
		owns_entire_state_region = STATE_MINAS_GERAIS
		in_default = no
		taking_loans = no
		ig:ig_armed_forces = {
			ig_clout >= 0.08
			ig_approval >= 0
		}
		gold_reserves >= 350000
	}

	

	when_taken = {
		set_variable = {
			name = decision_arms_fac_taken
			value = yes
		}
		trigger_event = {
			id = arms_industry.1
		}
	}
}